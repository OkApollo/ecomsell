{% extends 'base.html'%}

{% block content %}

<div class="container">
    <br>
    <h3>Hello, {{user.username}}</h3>
    <h5>What would you like to access?</h5>
    <br>
    <div class="row">
        <div class="col-md-4">

            <button type="button" class="btn btn-lg btn-light" id="userdetails">User Details</button> <br />

            <button class="btn btn-lg btn-light" type="button" id="purchases">Purchased</button> <br />

            <button type="button" class="btn btn-lg btn-light" id="editdet">Edit Details</button> <br />

            <button class="btn btn-lg btn-light" type="button" id="addresses">Addresses saved</button> <br />

            <button type="button" class="btn btn-lg btn-light" id="notifs">Notification settings</button> <br />
            <a href="{{url_for('logout')}}" style="text-decoration: none;">
                <button type="button" class="btn btn-lg btn-light">Signout</button>
            </a>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-7">
            <div id="userdetails_content">
                <h2>User Settings</h2>
                <hr>
                <div class="container-userdet">
                    <div class="profile_section">
                        <img src="data:image/jpeg;base64,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"
                            alt="profile picture" class="profilepicture">
                        <div class="pencilicon">
                            <i class="fa-solid fa-pencil" id="pencilicon"></i>
                        </div>
                    </div>
                    <hr class="sm-line">
                    <i>
                        <h4>{{user.username}}</h4>
                        <h4>{{user.email}}</h4>
                </div>
                </i>
            </div>
            <div id="purchases_content">
                <h1>You've purchased nothing at the moment</h1>
            </div>
            <div id="editdet_content">
                <p>Hello world</p>
            </div>
            <div id="address_content">
                <h3>Addresses</h3>
                <hr>
                <br>
                <ul>
                    {% for i in address %}
                    <li>
                        <h4>{{i.country}} {{i.city}} {{i.zipcode}}
                            <a data-bs-toggle="modal" data-bs-target="#edit_address"><i class="fa-solid fa-pencil"></i></a>
                            <a href="{{ url_for('address_del', unique_address_id=i._id) }}"><i class="fa-solid fa-trash-can"></i></a>
                        </h4>                       
                    </li>
                    <div class="modal fade" id="edit_address" tabindex="-1" aria-labelledby="edit_address" aria-hidden= "true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="edit_address_title">Edit an Address<address></address>
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form method="POST" action="{{ url_for('address_edit', unique_address_id=i._id) }}">
                                        <div class="form-group">
                                            {{form.country.label}}
                                            {{form.country(class="form-control", value=i.country)}}
                                        </div>
                                        <div class="form-group">
                                            {{form.state.label}}
                                            {{form.state(class="form-control", value=i.city)}}
                                        </div>
                                        <div class="form-group">
                                            {{form.zipcode.label}}
                                            {{form.zipcode(class="form-control", value= i.zipcode)}}
                                        </div>
                                        <div class="form-group">
                                            {{form.note.label}}
                                            {{form.note(class="form-control", value= i.notes)}}
                                        </div>
    
                                        {{ form.submit(class="btn btn-primary") }}
    
                                    </form>
                                </div>
    
                            </div>
                        </div>
                    </div>
                    {%endfor%}
                </ul>
                <button class="btn btn-lg btn-primary" data-bs-toggle="modal" data-bs-target="#add_address">Add an
                    Address</button>
                <div class="modal fade" id="add_address" tabindex="-1" aria-labelledby="add_address"  aria-hidden=" true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="add_address_title">Add an <address></address>
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form method="POST" action="/address/add">
                                    <div class="form-group">
                                        {{form.country.label}}
                                        {{form.country(class="form-control")}}
                                    </div>
                                    <div class="form-group">
                                        {{form.state.label}}
                                        {{form.state(class="form-control")}}
                                    </div>
                                    <div class="form-group">
                                        {{form.zipcode.label}}
                                        {{form.zipcode(class="form-control")}}
                                    </div>
                                    <div class="form-group">
                                        {{form.note.label}}
                                        {{form.note(class="form-control")}}
                                    </div>

                                    {{ form.submit(class="btn btn-primary") }}

                                </form>
                            </div>

                        </div>
                    </div>
                </div>
               
            </div>
            <div id="notifs_content">
                <h1>notifs huh?</h1>
            </div>
        </div>
    </div>


    {% endblock %}